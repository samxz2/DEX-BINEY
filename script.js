document.addEventListener("DOMContentLoaded",function(){console.log("\uD83D\uDE80 Hermanos de Sangre - P\xe1gina cargada");let e=0;function t(){try{(function e(){let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=/iPad|Android(?!.*Mobile)|Tablet/i.test(navigator.userAgent);t?(document.body.classList.add("mobile-device"),console.log("\uD83D\uDCF1 Dispositivo m\xf3vil detectado")):o?(document.body.classList.add("tablet-device"),console.log("\uD83D\uDCDF Tablet detectada")):(document.body.classList.add("desktop-device"),console.log("\uD83D\uDCBB Escritorio detectado"))})(),console.log("\uD83D\uDD27 Inicializando funcionalidades..."),function e(){let t=document.getElementById("bloodDrips");if(t){for(let o=0;o<15;o++){let a=document.createElement("div");a.className="blood-drip",a.style.position="absolute",a.style.width=3*Math.random()+2+"px",a.style.height=80*Math.random()+40+"px",a.style.background="linear-gradient(to bottom, var(--fresh-blood), transparent)",a.style.borderRadius="0 0 50% 50%",a.style.filter="blur(1px)",a.style.left=100*Math.random()+"%",a.style.animation=`bloodDrip ${3*Math.random()+2}s infinite linear`,a.style.animationDelay=5*Math.random()+"s",a.style.opacity=.5*Math.random()+.3,a.style.zIndex="1",a.style.pointerEvents="none",t.appendChild(a)}console.log("\uD83D\uDCA7 Gotas de sangre creadas:",15)}}(),function e(){let t=document.getElementById("glitch-title");if(!t)return;let o=!1;setInterval(()=>{!o&&Math.random()>.7&&(o=!0,t.style.animation="glitch 0.3s",setTimeout(()=>{t.style.animation="float 6s ease-in-out infinite",o=!1},300))},5e3),t.addEventListener("mouseenter",()=>{t.style.animation="glitch 0.3s",setTimeout(()=>{t.style.animation="float 6s ease-in-out infinite"},300)})}(),function t(){let o=document.getElementById("scrollTop");function a(){let t=window.scrollY;t>300?o.classList.add("visible"):o.classList.remove("visible");let a=document.getElementById("mainNav");if(a){let r=window.scrollY;r>e&&r>100?(a.style.transform="translateY(-100%)",a.style.opacity="0.7"):(a.style.transform="translateY(0)",a.style.opacity="1"),e=r<=0?0:r}}o&&(o.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),this.style.transform="scale(0.9)",setTimeout(()=>{this.style.transform=""},200)}),window.addEventListener("scroll",a),a())}(),function e(){let t=document.querySelectorAll(".nav-link"),o=document.querySelectorAll("section");function a(){let e="",a=window.scrollY+100;if(o.forEach(t=>{let o=t.offsetTop,r=t.clientHeight;a>=o&&a<o+r&&(e=t.id)}),t.forEach(t=>{t.classList.remove("active");let o=t.getAttribute("href");o===`#${e}`&&t.classList.add("active")}),!e&&t.length>0){let r=document.querySelector('.nav-link[href="#hermanos"]');r&&r.classList.add("active")}}t.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let o=this.getAttribute("href");if("#"===o)return;let a=document.querySelector(o);a&&(t.forEach(e=>e.classList.remove("active")),this.classList.add("active"),window.scrollTo({top:a.offsetTop-80,behavior:"smooth"}),this.style.transform="scale(0.95)",setTimeout(()=>{this.style.transform=""},200))})}),window.addEventListener("scroll",a),a()}(),function e(){let t=document.querySelectorAll(".brother-card, .code-rule, .trauma-card, .legacy-card");t.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-10px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"}),e.addEventListener("click",function(){this.style.transform="scale(0.98)",setTimeout(()=>{this.style.transform="translateY(-10px)"},150)})})}(),function e(){let t=document.querySelector(".hero-section");t&&window.addEventListener("scroll",()=>{let e=window.scrollY;t&&e<t.clientHeight&&(t.style.transform=`translateY(${-.5*e}px)`)})}(),function e(){let t=document.querySelectorAll(".brother-card, .code-rule, .trauma-card, .legacy-card, .comparison-column"),o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",o.observe(e)})}(),function e(){let t=document.querySelectorAll(".rule-number");t.forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.style.transform="scale(1)"},100*t);let o=e.closest(".code-rule");o&&(o.addEventListener("mouseenter",()=>{e.style.color="rgba(220, 20, 60, 0.3)",e.style.transform="scale(1.1)"}),o.addEventListener("mouseleave",()=>{e.style.color="rgba(220, 20, 60, 0.1)",e.style.transform="scale(1)"}))})}(),function e(){let t=document.querySelectorAll(".trauma-highlight, .legacy-highlight");t.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.textShadow="0 0 10px var(--fresh-blood)",this.style.color="var(--fresh-blood)"}),e.addEventListener("mouseleave",function(){this.style.textShadow="none",this.style.color="var(--fresh-blood)"})})}(),function e(){let t=document.querySelectorAll("img");t.forEach(e=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease",e.complete?e.style.opacity="1":(e.addEventListener("load",function(){this.style.opacity="1"}),e.addEventListener("error",function(){this.style.opacity="1",console.warn("⚠️ Error cargando imagen:",this.src)}))})}(),function e(){let t=window.matchMedia("(prefers-color-scheme: dark)");t.matches||console.log("\uD83C\uDFA8 Usuario prefiere tema claro, pero mantenemos oscuro para coherencia"),t.addListener(e=>{e.matches?console.log("\uD83C\uDF19 Usuario cambi\xf3 a tema oscuro"):console.log("☀️ Usuario cambi\xf3 a tema claro")})}(),document.addEventListener("keydown",e=>{if(("h"===e.key||"H"===e.key)&&(e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})),e.key,e.key>="1"&&e.key<="5"){let t=["hermanos","trauma","codigo","comparacion","legado"],o=parseInt(e.key)-1;if(t[o]){let a=document.getElementById(t[o]);a&&window.scrollTo({top:a.offsetTop-80,behavior:"smooth"})}}}),console.log("✅ Todas las funcionalidades inicializadas"),window.addEventListener("load",()=>{let e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;console.log(`⏱️  Tiempo de carga: ${e}ms`),e>3e3&&console.warn("⚠️  La p\xe1gina carg\xf3 lentamente. Considera optimizar im\xe1genes.")}),console.log("%c\uD83E\uDE78 HERMANOS DE SANGRE \uD83E\uDE78","color: #DC143C; font-size: 18px; font-weight: bold;"),console.log("%cDexter & Brian - Un legado marcado por la sangre","color: #aaa; font-size: 14px;"),console.log(" ")}catch(t){console.error("❌ Error durante la inicializaci\xf3n:",t)}}function o(){}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.debugPage=function(){console.log("=== DEBUG INFO ==="),console.log("Scroll position:",window.scrollY),console.log("Window height:",window.innerHeight),console.log("Document height:",document.documentElement.scrollHeight),console.log("Active section:",document.querySelector(".nav-link.active")?.getAttribute("href")),console.log("==================")}}),window.IntersectionObserver||console.warn("IntersectionObserver no soportado, cargando polyfill..."),"scrollBehavior"in document.documentElement.style||console.warn("Scroll smooth no soportado, consider polyfill");
