document.addEventListener("DOMContentLoaded",(function(){console.log("üöÄ Hermanos de Sangre - P√°gina cargada");const e=300;let t=0;function o(){console.log("üîß Inicializando funcionalidades..."),function(){const e=document.getElementById("bloodDrips");if(!e)return;for(let t=0;t<15;t++){const t=document.createElement("div");t.className="blood-drip",t.style.position="absolute",t.style.width=3*Math.random()+2+"px",t.style.height=80*Math.random()+40+"px",t.style.background="linear-gradient(to bottom, var(--fresh-blood), transparent)",t.style.borderRadius="0 0 50% 50%",t.style.filter="blur(1px)",t.style.left=100*Math.random()+"%",t.style.animation=`bloodDrip ${3*Math.random()+2}s infinite linear`,t.style.animationDelay=5*Math.random()+"s",t.style.opacity=.5*Math.random()+.3,t.style.zIndex="1",t.style.pointerEvents="none",e.appendChild(t)}console.log("üíß Gotas de sangre creadas:",15)}(),function(){const e=document.getElementById("glitch-title");if(!e)return;let t=!1;setInterval((()=>{t||Math.random()>.7&&(t=!0,e.style.animation="glitch 0.3s",setTimeout((()=>{e.style.animation="float 6s ease-in-out infinite",t=!1}),300))}),5e3),e.addEventListener("mouseenter",(()=>{e.style.animation="glitch 0.3s",setTimeout((()=>{e.style.animation="float 6s ease-in-out infinite"}),300)}))}(),function(){const o=document.getElementById("scrollTop");function n(){window.scrollY>e?o.classList.add("visible"):o.classList.remove("visible");const n=document.getElementById("mainNav");if(n){const e=window.scrollY;e>t&&e>100?(n.style.transform="translateY(-100%)",n.style.opacity="0.7"):(n.style.transform="translateY(0)",n.style.opacity="1"),t=e<=0?0:e}}o&&(o.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),this.style.transform="scale(0.9)",setTimeout((()=>{this.style.transform=""}),200)})),window.addEventListener("scroll",n),n())}(),function(){const e=document.querySelectorAll(".nav-link"),t=document.querySelectorAll("section");function o(){let o="";const n=window.scrollY+100;if(t.forEach((e=>{const t=e.offsetTop,s=e.clientHeight;n>=t&&n<t+s&&(o=e.id)})),e.forEach((e=>{e.classList.remove("active"),e.getAttribute("href")===`#${o}`&&e.classList.add("active")})),!o&&e.length>0){const e=document.querySelector('.nav-link[href="#hermanos"]');e&&e.classList.add("active")}}e.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault();const o=this.getAttribute("href");if("#"===o)return;const n=document.querySelector(o);n&&(e.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),window.scrollTo({top:n.offsetTop-80,behavior:"smooth"}),this.style.transform="scale(0.95)",setTimeout((()=>{this.style.transform=""}),200))}))})),window.addEventListener("scroll",o),o()}(),document.querySelectorAll(".brother-card, .code-rule, .trauma-card, .legacy-card").forEach((e=>{e.addEventListener("mouseenter",(function(){this.style.transform="translateY(-10px)"})),e.addEventListener("mouseleave",(function(){this.style.transform="translateY(0)"})),e.addEventListener("click",(function(){this.style.transform="scale(0.98)",setTimeout((()=>{this.style.transform="translateY(-10px)"}),150)}))})),function(){const e=document.querySelector(".hero-section");e&&window.addEventListener("scroll",(()=>{const t=window.scrollY,o=-.5*t;e&&t<e.clientHeight&&(e.style.transform=`translateY(${o}px)`)}))}(),function(){const e=document.querySelectorAll(".brother-card, .code-rule, .trauma-card, .legacy-card, .comparison-column"),t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach((e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)}))}(),document.querySelectorAll(".rule-number").forEach(((e,t)=>{setTimeout((()=>{e.style.opacity="1",e.style.transform="scale(1)"}),100*t);const o=e.closest(".code-rule");o&&(o.addEventListener("mouseenter",(()=>{e.style.color="rgba(220, 20, 60, 0.3)",e.style.transform="scale(1.1)"})),o.addEventListener("mouseleave",(()=>{e.style.color="rgba(220, 20, 60, 0.1)",e.style.transform="scale(1)"})))})),document.querySelectorAll(".trauma-highlight, .legacy-highlight").forEach((e=>{e.addEventListener("mouseenter",(function(){this.style.textShadow="0 0 10px var(--fresh-blood)",this.style.color="var(--fresh-blood)"})),e.addEventListener("mouseleave",(function(){this.style.textShadow="none",this.style.color="var(--fresh-blood)"}))})),document.querySelectorAll("img").forEach((e=>{e.style.opacity="0",e.style.transition="opacity 0.5s ease",e.complete?e.style.opacity="1":(e.addEventListener("load",(function(){this.style.opacity="1"})),e.addEventListener("error",(function(){this.style.opacity="1",console.warn("‚ö†Ô∏è Error cargando imagen:",this.src)})))})),function(){const e=window.matchMedia("(prefers-color-scheme: dark)");e.matches||console.log("üé® Usuario prefiere tema claro, pero mantenemos oscuro para coherencia"),e.addListener((e=>{e.matches?console.log("üåô Usuario cambi√≥ a tema oscuro"):console.log("‚òÄÔ∏è Usuario cambi√≥ a tema claro")}))}(),document.addEventListener("keydown",(e=>{if("h"!==e.key&&"H"!==e.key||(e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})),e.key,e.key>="1"&&e.key<="5"){const t=["hermanos","trauma","codigo","comparacion","legado"],o=parseInt(e.key)-1;if(t[o]){const e=document.getElementById(t[o]);e&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})}}})),console.log("‚úÖ Todas las funcionalidades inicializadas")}function n(){try{!function(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=/iPad|Android(?!.*Mobile)|Tablet/i.test(navigator.userAgent);e?(document.body.classList.add("mobile-device"),console.log("üì± Dispositivo m√≥vil detectado")):t?(document.body.classList.add("tablet-device"),console.log("üìü Tablet detectada")):(document.body.classList.add("desktop-device"),console.log("üíª Escritorio detectado"))}(),o(),window.addEventListener("load",(()=>{const e=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;console.log(`‚è±Ô∏è  Tiempo de carga: ${e}ms`),e>3e3&&console.warn("‚ö†Ô∏è  La p√°gina carg√≥ lentamente. Considera optimizar im√°genes.")})),console.log("%cü©∏ HERMANOS DE SANGRE ü©∏","color: #DC143C; font-size: 18px; font-weight: bold;"),console.log("%cDexter & Brian - Un legado marcado por la sangre","color: #aaa; font-size: 14px;"),console.log(" ")}catch(e){console.error("‚ùå Error durante la inicializaci√≥n:",e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.debugPage=function(){console.log("=== DEBUG INFO ==="),console.log("Scroll position:",window.scrollY),console.log("Window height:",window.innerHeight),console.log("Document height:",document.documentElement.scrollHeight),console.log("Active section:",document.querySelector(".nav-link.active")?.getAttribute("href")),console.log("==================")}})),window.IntersectionObserver||console.warn("IntersectionObserver no soportado, cargando polyfill..."),"scrollBehavior"in document.documentElement.style||console.warn("Scroll smooth no soportado, consider polyfill");
